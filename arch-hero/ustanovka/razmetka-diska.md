---
description: Ручная разметка диска во время установки Arch Linux
---

# Разметка диска

## Создаем разделы

Сначала узнаем какие диски и разделы у нас есть при помощи команды _**lsblk**_. А также более детальную информацию о дисках при помощи команды **fdisk**.

```shell
lsblk
fdisk -l
```

Запоминаем название нужного нам диска. Далее запускаем утилиту _**cfdisk**_ для того, чтобы создать нужные нам разделы. Вместо **\<disk>** вставляем название своего диска.

```shell
cfdisk /dev/<disk> # В моем случае команда выглядит так: cfdisk /dev/nvme0n1
```

Выбираем Free space и создаем три раздела:

* Первый раздел будет выделен под root, выделяем более 10GB. У меня 200GB.
* Второй раздел будет выделен под home, выделяем более 10GB. У меня 200GB.
* Третий раздел будет выделен под файл подкачки - swap, выделяем по таблице ниже. У меня 10GB. У данного раздела меняем тип на "**Linux Swap**", для этого выберите раздел \
  "**Type**".

Первый столбец - оперативная память, а второй - файл подкачки.

<figure><img src="../../.gitbook/assets/image (3) (1).png" alt=""><figcaption><p>Соотношение RAM к Swap</p></figcaption></figure>

В итоге получится что-то похожее. В моем случае у меня еще стоит Windows(все руки не дойдут её снести), поэтому у меня не 3, а 7 разделов.

<figure><img src="../../.gitbook/assets/image (3) (2).png" alt=""><figcaption><p>cfdisk - моя разметка</p></figcaption></figure>

Далее выбираем "**Write**", пишем "**yes**". И выходим выбирая "**Quit**".

## Монтируем разделы

Перед монтированием разделов, надо их отформатировать в поддерживаемый ядром линукса формат. В данном случае **ext4** для разделом под root и home, а также **swap** под swap раздел.&#x20;

Ниже представлены наименования моих разделов, замените их на свои разделы.

```shell
mkfs.ext4 /dev/nvme0n1p5
mkfs.ext4 /dev/nvme0n1p6
mkswap /dev/nvme0n1p7
```

Теперь займемся самим монтированием разделов.

```shell
mount /dev/nvme0n1p5 /mnt
mkdir /mnt/home
mount /dev/nvme0n1p6 /mnt/home
swapon /dev/nvme0n1p7s
```

Также создадим раздел куда в последствии поставим загрузчик нашей системы.

```shell
mkdir /mnt/efi
```

## Если у вас Windows...

Стоит смонтировать в наш раздел с загрузчиком другой раздел, на котором расположен Windows Boot Loader. Напоминаю, какой раздел за что отвечает можно было увидеть с помощью команды _**fdisk**_.

<figure><img src="../../.gitbook/assets/image (4) (1).png" alt=""><figcaption><p>EFI System, то что мне нужно</p></figcaption></figure>

```shell
mount /dev/nvme0n1p1 /mnt/efi
```
